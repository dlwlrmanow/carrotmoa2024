<!DOCTYPE html>
<html lang="ko"
      layout:decorate="~{layout/layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <title th:text="${room.title} + ' 단기임대 숙소 | 당근모아'"> 단기임대 숙소 | 당근모아 </title>
    <link rel="stylesheet" th:href="@{/css/guest_room_detail.css}"/>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>
</head>

<main layout:fragment="main">
    <section class="room_content">
        <div class="flex">
            <div class="room_detail" th:object="${room}">
                <div class="room_info">
                    <div class="title">
                        <strong th:text="*{title}">애버랜드</strong>
                    <p class="add_text" th:text="*{roadAddress}">용인시 처인구 애버랜드로</p>
                    </div>
                    <div class="room_images" id="roomImages">
                        <div th:each="image, iterStat : ${room.imageUrls}" class="room-image-wrapper">
                            <img th:src="${image}" class="room-image"  th:if="${iterStat.index == 0}" />
                        </div>
                        <div class="image_controls">
                            <button class="slider-button prev" onclick="prevImage()">&#10094;</button>
                            <button class="slider-button next" onclick="nextImage()">&#10095;</button>
                            <div class="image-index" id="imageIndex">1/8</div>
                        </div>
                    </div>
                    <script th:src="@{/js/image_swiper.js}"></script>
                </div>
                <div class="room_info">
                    <p class="title">소개합니다</p>
                    <div class="title_text" th:text="*{content}">
                        방에 대한 간략한 소개글
                    </div>
                </div>
                <div class="room_info">
                    <p class="title">공간 기본 정보</p>
                    <div class="place_box">

                    </div>
                </div>
                <div class="room_info">
                    <p class="title">기본 옵션</p>
                    <ul class="option" th:each="amenity : ${amenities}">
                        <li>
                            <span>
                                <img th:src="${amenity.iconUrl}">
                            </span>
                            <p th:text="${amenity.name}"></p>
                        </li>
                    </ul>
                </div>
                <div class="room_info">
                    <div class="room_info">
                        <p class="title"> 교통 & 위치 </p>
                        <div class="title_text" th:text="${room.lotAddress} + ${room.detailAddress} + ${room.floor}">
<!--                            지도 api 불러올 자리-->
                        </div>
                    </div>
                </div>
                <div class="profile" th:each="profile : ${profile}">
                    <dl>
                        <dt class="profile_img">
                            <img th:src="${profile.picUrl}" id="pic_url">
                        </dt>
                        <dd>
                            <div class="profile_name">
                                <strong th:text="${profile.nickname}">최이재</strong>
                            </div>
                            <p class="introduce" th:text="${profile.bio}">안녕하세요:)</p>
                        </dd>
                    </dl>
                    <a id="btn_chat_start" class="btn medium white">
                        <span class="icon_send">호스트와 채팅하기</span>
                    </a>
                </div>
<!--                <div class="room_info">-->
<!--&lt;!&ndash;                    이용후기 response 필요&ndash;&gt;-->
<!--                    <p class="title">-->
<!--                        이용 후기-->
<!--                    <span class="font_orange">10</span>-->
<!--                    </p>-->
<!--                    <ul class="review_list">-->
<!--                        <li>-->
<!--                            <div class="review_info">-->
<!--                                <div class="bg_score">-->
<!--                                    <span class="score" style="width: 80%"></span>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
            </div>
            <div class="room_sticky">
                <div class="top_icon">
<!--                    <input type="text" id="url_copylink_room" th:value="${copyLinkUrl}" readonly style="width:1px; height:1px;">-->
<!--                    <a id="btn_share" th:attr="data-clipboard-target='#url_copylink_room'">-->
<!--                        <img src="https://carrots-bucket.s3.ap-northeast-2.amazonaws.com/room_detail_icon/icon_sharing.svg" alt="">-->
<!--                    </a>-->
                    <button type="button" class="btn_like">
                        <span class="blind">찜하기</span>
                    </button>
                </div>
                <div class="room_pay">
                    <p>
                        <strong th:text="${room.price}">0 </strong><em>원</em>
                        <span>/1주</span>
                    </p>
<!--                    방 카운트 방1화장실1 이런식으로 뽑기-->
<!--                    <ul class="place_list" >-->
<!--                        <li>방 1</li>-->
<!--                        <li>화장실 1</li>-->
<!--                        <li>주방 1</li>-->
<!--                        <li>거실 0</li>-->
<!--                    </ul>-->
                </div>
                <div class="reservation-container">
                    <div class="reservation" id="calendar">
                        <script th:src="@{/js/room_booking.js}"></script>
                    </div>
                </div>
                <div class="btn_date_full">
                    <a id="btn_check_checkin" class="btn medium white" style="display: none;">
                        날짜를 선택해주세요
                    </a>
                    <div class="line_box" id="div_checkin_schedule" style>
                        <p>
                            체크인 날짜
                            <span id="checkin-dates"></span>
                        </p>
                    </div>
                    <div class="line_box" id="div_checkout_schedule" style>
                        <p>
                            체크아웃 날짜
                            <span id="checkout-dates"></span>
                        </p>
                    </div>
                </div>
                <div class="btn_full">
                    <a id="btn_start_booking_now" class="btn medium orange">계약 시작하기</a>
                </div>
            </div>
        </div>
    </section>
</main>